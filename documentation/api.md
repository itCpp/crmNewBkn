# API

### Обработка входящего события
`/api/events/{type?}`

| Параметр | Тип | Описание |
| ------ | ------ | ------ |
| `type` | `string` | Тип входящего события `call_asterisk`, `callDetailRecord`, `coming` |
| `text` | `int` | Идентификтаор входящего события текстовой заявки |
| `call` | `int` | Идентификтаор входящего события звонка |

### Получить номер телефона через идентификатор
`/api/getNumberFromId`

Получает номер телефона в формате `89001234567` по идентификатору заявки и клиента.
Для заявки используется связка номера заявки и номера клинета в формате `+123456s654321`, для получение номера из договора, необходимо передать значение `+7000d0`, где `7000` - номер договора и `0` порядковый номер располжение номера телефона

| Параметр | Тип | Описание |
| ------ | ------ | ------ |
| `number` | `string` | Идентификатор заявки и клиента |
